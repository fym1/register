$(function(){var o=$("#username"),t=$("#pwd"),a=$("#phonenumber"),e=$("#register"),n=$("#yanzheng"),l=$("#yanzheng-button");function c(e){var o=$(e),t=$(e+"-validate");if("#username"==e){var a=o.val().replace(/[\u4e00-\u9fa5]/g,"bv");console.log(a.length);return 14<a.length?void t.html("用户名仅支持中英文、数字和下划线,且不能为纯数字"):/[^\w\u4e00-\u9fa5]|^\d+$/g.test(o.val())?void t.html("用户名仅支持中英文、数字和下划线,且不能为纯数字"):(t.html(""),1)}if("#pwd"==e){return/(?!.*\s)(?!^[\u4e00-\u9fa5]+$)(?!^[0-9]+$)(?!^[A-z]+$)(?!^[^A-z0-9]+$)^.{8,14}$/g.test(o.val())?(t.html(""),1):(console.log(o.val().length),void t.html("密码设置不符合要求"))}if("#phonenumber"==e){return/^[1][3,4,5,7,8][0-9]{9}$/.test(o.val())||""==o.val()?(t.html(""),1):void t.html("手机号码格式不正确")}}$yan=$("#yan"),$a=$("#a"),$b=$("#b"),$dui=$(".dui"),num=9,$eye=$("#eye"),o.focusout(function(){$a.css("display","none"),c("#username")?o.css("border-color",""):o.css("border-color","red")}),o.focus(function(){$("#username-validate").html(""),o.css("border-color",""),$a.css("display","block")}),a.focusout(function(){c("#phonenumber")?a.css("border-color",""):a.css("border-color","red")}),a.focus(function(){$("#phonenumber-validate").html(""),a.css("border-color","")}),t.focusout(function(){$b.css("display","none"),c("#pwd")?t.css("border-color",""):t.css("border-color","red")}),t.focus(function(){console.log("gaibian"),$("#pwd-validate").html(""),$b.css("display","block")}),$eye.mouseover(function(){$eye.attr("src","http://images.669pic.com/element_pic/60/72/0/35/a33f8f40e6c8d09a7823da05de4d9752.jpg"),t.attr("type","text")}),$eye.mouseleave(function(){$eye.attr("src","http://bpic.588ku.com/element_origin_min_pic/01/50/72/255745604e0498c.jpg"),t.attr("type","password")}),l.click(function(){if(""==a.val()&&$("#phonenumber-validate").html("请您输入手机号"),c("#username")&&c("#phonenumber")&&c("#pwd")&&""!=o.val()&&""!=a.val()&&""!=t.val()){$("#yanzheng-validate").html("");var e=setInterval(function(){num--,0===num?(clearInterval(e),l.val("发送验证码"),l.attr("disabled",!1)):(l.attr("disabled",!0),l.val("正在发送（"+num+"s）"))},1e3);console.log("发送验证码成功")}else setTimeout(function(){$("#yanzheng-validate").html("请求超时，请稍后再试")},1e4)}),e.click(function(){c("#username")&&""!=o&&c("#phonenumber")&&""!=a&&c("#pwd")&&""!=t&&$dui.is(":checked")&&""!=n.val()?(e.css("opacity","1"),e.attr("disabled",!1),console.log("提交成功"),clearInterval(s)):alert("提交未成功，请重新输入信息")});var s=setInterval(function(){""!=o.val()&&""!=a.val()&&""!=t.val()&&$dui.is(":checked")&&""!=n.val()?(e.css("opacity","1"),e.attr("disabled",!1),console.log("可以提交")):(e.css("opacity","0.7"),e.attr("disabled",!0),console.log("数据不全，不能提交"))},1e3)});